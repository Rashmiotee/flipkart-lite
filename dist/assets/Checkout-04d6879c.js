import{b as v,w as y,a as b,f as N,r as h,B as g,g as C,j as s,l as k}from"./index-4043e461.js";import{u as S,c as E,a as c}from"./index.esm-1726fb08.js";import{a as x,F as t}from"./Form-ce88fc19.js";import{O as F}from"./OrderSummery-845d8405.js";import{T as O}from"./index-d03fe3be.js";import{S as w}from"./Spinner-a23edf41.js";import{C as l}from"./Container-0abe7692.js";import{C as a}from"./Col-b4127909.js";import{B as P}from"./Button-4433769c.js";import"./ThemeProvider-77305239.js";import"./index-a1ae3952.js";import"./ElementChildren-c68d5b78.js";import"./iconBase-0cc71650.js";import"./Button-7db2f9f9.js";const H=()=>{const n=v(),[j,{isSuccess:d,isLoading:u}]=y(),{cart:i}=b(r=>r.bag),o=N(),e=S({initialValues:{address:"",payment:"",city:""},validationSchema:E({address:c().required("Enter  address"),city:c().required("Enter  city"),payment:c().required("Enter  payment")}),onSubmit:(r,{resetForm:p})=>{j({...r,products:i.map(f=>f._id)}),p()}}),m=r=>k({"form-control my-2":!0,"is-invalid":e.touched[r]&&e.errors[r],"is-valid":e.touched[r]&&!e.errors[r]});return h.useEffect(()=>{i.length===0&&o("/")},[]),h.useEffect(()=>{d&&(g.success("order place"),n(C()),o("/success"))},[d]),u?s.jsxs("div",{children:["please wait....",s.jsx(w,{})]}):s.jsx(l,{children:s.jsx("form",{onSubmit:e.handleSubmit,children:s.jsx("div",{className:"d-flex justify-content-between gap-5 ",children:s.jsx(l,{className:"bg-light",children:s.jsxs("div",{className:"row py-4",children:[s.jsxs("div",{children:[s.jsx(x,{...e.getFieldProps("address"),className:m("address"),placeholder:"Enter address"}),s.jsx("span",{className:"invalid-feedback",children:e.errors.address}),s.jsx(x,{...e.getFieldProps("city"),className:m("city"),placeholder:"Enter city"}),s.jsx("span",{className:"invalid-feedback",children:e.errors.city}),s.jsx(t.Check,{...e.getFieldProps("payment"),type:"radio",name:"payment",id:"cod",value:"Cod",label:"COD"}),s.jsx("span",{className:"invalid-feedback",children:e.errors.payment}),s.jsx(t.Check,{...e.getFieldProps("payment"),type:"radio",name:"payment",id:"online",value:"online",label:"ONLINE"}),s.jsx("span",{className:"invalid-feedback",children:e.errors.payment})]}),s.jsxs(l,{className:"mx-0",children:[s.jsx("h5",{className:"mt-3",children:"Order Summary"}),s.jsxs("div",{class:"card w-75",children:[i.map(r=>s.jsx("div",{className:"bg-light",children:s.jsxs(a,{sm:"12",className:"d-flex    gap-4  p-1  mt-3",children:[s.jsx(a,{sm:"3",children:s.jsx("img",{src:r.hero,alt:"",height:200})}),s.jsxs(a,{sm:"5",children:[s.jsx("p",{children:r.name}),s.jsx("div",{children:"sienna | large "}),s.jsx("p",{className:"pb-5",children:r.price}),s.jsxs("p",{children:[" ",s.jsxs("span",{className:"text-success fs-4",children:[" ",s.jsx(O,{})]}),"   in stock"]})]}),s.jsx(a,{sm:"2",children:s.jsxs(t.Select,{className:" text-dark ",children:[s.jsx("option",{children:"1"}),s.jsx("option",{value:"1",children:"2"}),s.jsx("option",{value:"2",children:"3"}),s.jsx("option",{value:"3",children:"4"})]})}),s.jsx(a,{sm:"2",children:s.jsx("button",{onClick:p=>n(removeToCart(r)),className:"btn btn-close  "})})]})})),s.jsx("div",{class:"card-body",children:s.jsx(F,{showCheckout:!1})}),s.jsx("div",{class:"card-footer",children:s.jsx(P,{type:"submit",className:"btn btn-primary",children:"Confirm Order"})})]})]})]})})})})})};export{H as default};
